export function synchronizeFileWithIndexedDb(n){return new Promise(t=>{const i=window.indexedDB.open("SqliteStorage",1);i.onupgradeneeded=()=>{i.result.createObjectStore("Files",{keypath:"id"})};i.onsuccess=()=>{const r=i.result.transaction("Files","readonly").objectStore("Files").get("file");r.onsuccess=()=>{Module.FS_createDataFile("/",n,r.result,!0,!0,!0),t()}};let r=new Date;setInterval(()=>{const t=`/${n}`;if(FS.analyzePath(t).exists){const n=FS.stat(t).mtime;if(n.valueOf()!==r.valueOf()){r=n;const u=FS.readFile(t);i.result.transaction("Files","readwrite").objectStore("Files").put(u,"file")}}},1e3)})}