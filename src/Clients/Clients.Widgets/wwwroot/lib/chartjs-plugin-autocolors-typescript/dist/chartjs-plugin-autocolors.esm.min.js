/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/chartjs-plugin-autocolors-typescript@0.2.5/dist/chartjs-plugin-autocolors.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
 * chartjs-plugin-autocolors-typescript v0.2.5
 * https://github.com/kurkle/chartjs-plugin-autocolors#readme
 * (c) 2023 Jukka Kurkela <jukka.kurkela@gmail.com>
 * Released under the MIT license
 */
import{hsv2rgb,rgbString}from"@kurkle/color";function*hueGen(){for(yield 0;;)for(let o=1;o<10;o++){const e=1<<o;for(let o=1;o<=e;o+=2)yield o/e}}function*colorGen(o=1){const e=hueGen();let t=e.next();for(;!t.done;){let r=hsv2rgb(Math.round(360*t.value),.6,.8);for(let e=0;e<o;e++)yield{background:rgbString({r:r[0],g:r[1],b:r[2],a:192}),border:rgbString({r:r[0],g:r[1],b:r[2],a:144})};r=hsv2rgb(Math.round(360*t.value),.6,.5);for(let e=0;e<o;e++)yield{background:rgbString({r:r[0],g:r[1],b:r[2],a:192}),border:rgbString({r:r[0],g:r[1],b:r[2],a:144})};t=e.next()}}function setColors(o,e,t){return o.backgroundColor=o.backgroundColor||e,o.borderColor=o.borderColor||t,o.backgroundColor===e&&o.borderColor===t}function getNext(o,e,t){const r=o.next().value;return"function"==typeof e?e(Object.assign({colors:r},t)):r}var autocolorPlugin={id:"autocolors",beforeUpdate(o,e,t){const{mode:r="dataset",enabled:n=!0,customize:a,repeat:d}=t;if(!n)return;const l=colorGen(d);if(t.offset)for(let o=0;o<t.offset;o++)l.next();if("label"===r)return labelMode(o,l,a);const s="dataset"===r;let c=getNext(l,a,{chart:o,datasetIndex:0,dataIndex:s?void 0:0});for(const e of o.data.datasets)if(s)setColors(e,c.background,c.border)&&(c=getNext(l,a,{chart:o,datasetIndex:e.index}));else{const t=[],r=[];for(let n=0;n<e.data.length;n++)t.push(c.background),r.push(c.border),c=getNext(l,a,{chart:o,datasetIndex:e.index,dataIndex:n});setColors(e,t,r)}}};function labelMode(o,e,t){const r={};for(const n of o.data.datasets){const a=n.label??"";r[a]||(r[a]=getNext(e,t,{chart:o,datasetIndex:0,dataIndex:void 0,label:a}));const d=r[a];setColors(n,d.background,d.border)}}export{autocolorPlugin as default};
//# sourceMappingURL=/sm/f1e664386d51ce02943abd617e7fe1cd4ca3aef364f4cab7834b95a90f3a7546.map