/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/format/WMSCapabilities.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import XML from"./XML.js";import{makeArrayPusher,makeObjectPropertyPusher,makeObjectPropertySetter,makeStructureNS,pushParseAndPop}from"../xml.js";import{readBooleanString,readDecimal,readDecimalString,readNonNegativeIntegerString,readPositiveInteger,readString}from"./xsd.js";import{readHref}from"./xlink.js";const NAMESPACE_URIS=[null,"http://www.opengis.net/wms"],PARSERS=makeStructureNS(NAMESPACE_URIS,{Service:makeObjectPropertySetter(readService),Capability:makeObjectPropertySetter(readCapability)}),CAPABILITY_PARSERS=makeStructureNS(NAMESPACE_URIS,{Request:makeObjectPropertySetter(readRequest),Exception:makeObjectPropertySetter(readException),Layer:makeObjectPropertySetter(readCapabilityLayer)});class WMSCapabilities extends XML{constructor(){super(),this.version=void 0}readFromNode(e){this.version=e.getAttribute("version").trim();const t=pushParseAndPop({version:this.version},PARSERS,e,[]);return t||null}}const SERVICE_PARSERS=makeStructureNS(NAMESPACE_URIS,{Name:makeObjectPropertySetter(readString),Title:makeObjectPropertySetter(readString),Abstract:makeObjectPropertySetter(readString),KeywordList:makeObjectPropertySetter(readKeywordList),OnlineResource:makeObjectPropertySetter(readHref),ContactInformation:makeObjectPropertySetter(readContactInformation),Fees:makeObjectPropertySetter(readString),AccessConstraints:makeObjectPropertySetter(readString),LayerLimit:makeObjectPropertySetter(readPositiveInteger),MaxWidth:makeObjectPropertySetter(readPositiveInteger),MaxHeight:makeObjectPropertySetter(readPositiveInteger)}),CONTACT_INFORMATION_PARSERS=makeStructureNS(NAMESPACE_URIS,{ContactPersonPrimary:makeObjectPropertySetter(readContactPersonPrimary),ContactPosition:makeObjectPropertySetter(readString),ContactAddress:makeObjectPropertySetter(readContactAddress),ContactVoiceTelephone:makeObjectPropertySetter(readString),ContactFacsimileTelephone:makeObjectPropertySetter(readString),ContactElectronicMailAddress:makeObjectPropertySetter(readString)}),CONTACT_PERSON_PARSERS=makeStructureNS(NAMESPACE_URIS,{ContactPerson:makeObjectPropertySetter(readString),ContactOrganization:makeObjectPropertySetter(readString)}),CONTACT_ADDRESS_PARSERS=makeStructureNS(NAMESPACE_URIS,{AddressType:makeObjectPropertySetter(readString),Address:makeObjectPropertySetter(readString),City:makeObjectPropertySetter(readString),StateOrProvince:makeObjectPropertySetter(readString),PostCode:makeObjectPropertySetter(readString),Country:makeObjectPropertySetter(readString)}),EXCEPTION_PARSERS=makeStructureNS(NAMESPACE_URIS,{Format:makeArrayPusher(readString)}),LAYER_PARSERS=makeStructureNS(NAMESPACE_URIS,{Name:makeObjectPropertySetter(readString),Title:makeObjectPropertySetter(readString),Abstract:makeObjectPropertySetter(readString),KeywordList:makeObjectPropertySetter(readKeywordList),CRS:makeObjectPropertyPusher(readString),EX_GeographicBoundingBox:makeObjectPropertySetter(readEXGeographicBoundingBox),BoundingBox:makeObjectPropertyPusher(readBoundingBox),Dimension:makeObjectPropertyPusher(readDimension),Attribution:makeObjectPropertySetter(readAttribution),AuthorityURL:makeObjectPropertyPusher(readAuthorityURL),Identifier:makeObjectPropertyPusher(readString),MetadataURL:makeObjectPropertyPusher(readMetadataURL),DataURL:makeObjectPropertyPusher(readFormatOnlineresource),FeatureListURL:makeObjectPropertyPusher(readFormatOnlineresource),Style:makeObjectPropertyPusher(readStyle),MinScaleDenominator:makeObjectPropertySetter(readDecimal),MaxScaleDenominator:makeObjectPropertySetter(readDecimal),Layer:makeObjectPropertyPusher(readLayer)}),ATTRIBUTION_PARSERS=makeStructureNS(NAMESPACE_URIS,{Title:makeObjectPropertySetter(readString),OnlineResource:makeObjectPropertySetter(readHref),LogoURL:makeObjectPropertySetter(readSizedFormatOnlineresource)}),EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS=makeStructureNS(NAMESPACE_URIS,{westBoundLongitude:makeObjectPropertySetter(readDecimal),eastBoundLongitude:makeObjectPropertySetter(readDecimal),southBoundLatitude:makeObjectPropertySetter(readDecimal),northBoundLatitude:makeObjectPropertySetter(readDecimal)}),REQUEST_PARSERS=makeStructureNS(NAMESPACE_URIS,{GetCapabilities:makeObjectPropertySetter(readOperationType),GetMap:makeObjectPropertySetter(readOperationType),GetFeatureInfo:makeObjectPropertySetter(readOperationType)}),OPERATIONTYPE_PARSERS=makeStructureNS(NAMESPACE_URIS,{Format:makeObjectPropertyPusher(readString),DCPType:makeObjectPropertyPusher(readDCPType)}),DCPTYPE_PARSERS=makeStructureNS(NAMESPACE_URIS,{HTTP:makeObjectPropertySetter(readHTTP)}),HTTP_PARSERS=makeStructureNS(NAMESPACE_URIS,{Get:makeObjectPropertySetter(readFormatOnlineresource),Post:makeObjectPropertySetter(readFormatOnlineresource)}),STYLE_PARSERS=makeStructureNS(NAMESPACE_URIS,{Name:makeObjectPropertySetter(readString),Title:makeObjectPropertySetter(readString),Abstract:makeObjectPropertySetter(readString),LegendURL:makeObjectPropertyPusher(readSizedFormatOnlineresource),StyleSheetURL:makeObjectPropertySetter(readFormatOnlineresource),StyleURL:makeObjectPropertySetter(readFormatOnlineresource)}),FORMAT_ONLINERESOURCE_PARSERS=makeStructureNS(NAMESPACE_URIS,{Format:makeObjectPropertySetter(readString),OnlineResource:makeObjectPropertySetter(readHref)}),KEYWORDLIST_PARSERS=makeStructureNS(NAMESPACE_URIS,{Keyword:makeArrayPusher(readString)});function readAttribution(e,t){return pushParseAndPop({},ATTRIBUTION_PARSERS,e,t)}function readBoundingBox(e,t){const r=[readDecimalString(e.getAttribute("minx")),readDecimalString(e.getAttribute("miny")),readDecimalString(e.getAttribute("maxx")),readDecimalString(e.getAttribute("maxy"))],a=[readDecimalString(e.getAttribute("resx")),readDecimalString(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:r,res:a}}function readEXGeographicBoundingBox(e,t){const r=pushParseAndPop({},EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS,e,t);if(!r)return;const a=r.westBoundLongitude,n=r.southBoundLatitude,o=r.eastBoundLongitude,i=r.northBoundLatitude;return void 0!==a&&void 0!==n&&void 0!==o&&void 0!==i?[a,n,o,i]:void 0}function readCapability(e,t){return pushParseAndPop({},CAPABILITY_PARSERS,e,t)}function readService(e,t){return pushParseAndPop({},SERVICE_PARSERS,e,t)}function readContactInformation(e,t){return pushParseAndPop({},CONTACT_INFORMATION_PARSERS,e,t)}function readContactPersonPrimary(e,t){return pushParseAndPop({},CONTACT_PERSON_PARSERS,e,t)}function readContactAddress(e,t){return pushParseAndPop({},CONTACT_ADDRESS_PARSERS,e,t)}function readException(e,t){return pushParseAndPop([],EXCEPTION_PARSERS,e,t)}function readCapabilityLayer(e,t){const r=pushParseAndPop({},LAYER_PARSERS,e,t);return void 0===r.Layer?Object.assign(r,readLayer(e,t)):r}function readLayer(e,t){const r=t[t.length-1],a=pushParseAndPop({},LAYER_PARSERS,e,t);if(!a)return;let n=readBooleanString(e.getAttribute("queryable"));void 0===n&&(n=r.queryable),a.queryable=void 0!==n&&n;let o=readNonNegativeIntegerString(e.getAttribute("cascaded"));void 0===o&&(o=r.cascaded),a.cascaded=o;let i=readBooleanString(e.getAttribute("opaque"));void 0===i&&(i=r.opaque),a.opaque=void 0!==i&&i;let S=readBooleanString(e.getAttribute("noSubsets"));void 0===S&&(S=r.noSubsets),a.noSubsets=void 0!==S&&S;let d=readDecimalString(e.getAttribute("fixedWidth"));d||(d=r.fixedWidth),a.fixedWidth=d;let u=readDecimalString(e.getAttribute("fixedHeight"));u||(u=r.fixedHeight),a.fixedHeight=u;["Style","CRS","AuthorityURL"].forEach((function(e){if(e in r){const t=a[e]||[];a[e]=t.concat(r[e])}}));return["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(e){if(!(e in a)){const t=r[e];a[e]=t}})),a}function readDimension(e,t){return{name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:readBooleanString(e.getAttribute("multipleValues")),nearestValue:readBooleanString(e.getAttribute("nearestValue")),current:readBooleanString(e.getAttribute("current")),values:readString(e)}}function readFormatOnlineresource(e,t){return pushParseAndPop({},FORMAT_ONLINERESOURCE_PARSERS,e,t)}function readRequest(e,t){return pushParseAndPop({},REQUEST_PARSERS,e,t)}function readDCPType(e,t){return pushParseAndPop({},DCPTYPE_PARSERS,e,t)}function readHTTP(e,t){return pushParseAndPop({},HTTP_PARSERS,e,t)}function readOperationType(e,t){return pushParseAndPop({},OPERATIONTYPE_PARSERS,e,t)}function readSizedFormatOnlineresource(e,t){const r=readFormatOnlineresource(e,t);if(r){const t=[readNonNegativeIntegerString(e.getAttribute("width")),readNonNegativeIntegerString(e.getAttribute("height"))];return r.size=t,r}}function readAuthorityURL(e,t){const r=readFormatOnlineresource(e,t);if(r)return r.name=e.getAttribute("name"),r}function readMetadataURL(e,t){const r=readFormatOnlineresource(e,t);if(r)return r.type=e.getAttribute("type"),r}function readStyle(e,t){return pushParseAndPop({},STYLE_PARSERS,e,t)}function readKeywordList(e,t){return pushParseAndPop([],KEYWORDLIST_PARSERS,e,t)}export default WMSCapabilities;
//# sourceMappingURL=/sm/d28e3de7c9fce3d17232a98b23d9776326d2c8853f15d7465cdf4d945450c295.map