/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/format/WMTSCapabilities.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import OWS from"./OWS.js";import XML from"./XML.js";import{boundingExtent}from"../extent.js";import{makeArrayPusher,makeObjectPropertyPusher,makeObjectPropertySetter,makeStructureNS,pushParseAndPop}from"../xml.js";import{readDecimal,readPositiveInteger,readString}from"./xsd.js";import{readHref}from"./xlink.js";const NAMESPACE_URIS=[null,"http://www.opengis.net/wmts/1.0"],OWS_NAMESPACE_URIS=[null,"http://www.opengis.net/ows/1.1"],PARSERS=makeStructureNS(NAMESPACE_URIS,{Contents:makeObjectPropertySetter(readContents)});class WMTSCapabilities extends XML{constructor(){super(),this.owsParser_=new OWS}readFromNode(e){let r=e.getAttribute("version");r&&(r=r.trim());let t=this.owsParser_.readFromNode(e);return t?(t.version=r,t=pushParseAndPop(t,PARSERS,e,[]),t||null):null}}const CONTENTS_PARSERS=makeStructureNS(NAMESPACE_URIS,{Layer:makeObjectPropertyPusher(readLayer),TileMatrixSet:makeObjectPropertyPusher(readTileMatrixSet)}),LAYER_PARSERS=makeStructureNS(NAMESPACE_URIS,{Style:makeObjectPropertyPusher(readStyle),Format:makeObjectPropertyPusher(readString),TileMatrixSetLink:makeObjectPropertyPusher(readTileMatrixSetLink),Dimension:makeObjectPropertyPusher(readDimensions),ResourceURL:makeObjectPropertyPusher(readResourceUrl)},makeStructureNS(OWS_NAMESPACE_URIS,{Title:makeObjectPropertySetter(readString),Abstract:makeObjectPropertySetter(readString),WGS84BoundingBox:makeObjectPropertySetter(readBoundingBox),Identifier:makeObjectPropertySetter(readString)})),STYLE_PARSERS=makeStructureNS(NAMESPACE_URIS,{LegendURL:makeObjectPropertyPusher(readLegendUrl)},makeStructureNS(OWS_NAMESPACE_URIS,{Title:makeObjectPropertySetter(readString),Identifier:makeObjectPropertySetter(readString)})),TMS_LINKS_PARSERS=makeStructureNS(NAMESPACE_URIS,{TileMatrixSet:makeObjectPropertySetter(readString),TileMatrixSetLimits:makeObjectPropertySetter(readTileMatrixLimitsList)}),TMS_LIMITS_LIST_PARSERS=makeStructureNS(NAMESPACE_URIS,{TileMatrixLimits:makeArrayPusher(readTileMatrixLimits)}),TMS_LIMITS_PARSERS=makeStructureNS(NAMESPACE_URIS,{TileMatrix:makeObjectPropertySetter(readString),MinTileRow:makeObjectPropertySetter(readPositiveInteger),MaxTileRow:makeObjectPropertySetter(readPositiveInteger),MinTileCol:makeObjectPropertySetter(readPositiveInteger),MaxTileCol:makeObjectPropertySetter(readPositiveInteger)}),DIMENSION_PARSERS=makeStructureNS(NAMESPACE_URIS,{Default:makeObjectPropertySetter(readString),Value:makeObjectPropertyPusher(readString)},makeStructureNS(OWS_NAMESPACE_URIS,{Identifier:makeObjectPropertySetter(readString)})),WGS84_BBOX_READERS=makeStructureNS(OWS_NAMESPACE_URIS,{LowerCorner:makeArrayPusher(readCoordinates),UpperCorner:makeArrayPusher(readCoordinates)}),TMS_PARSERS=makeStructureNS(NAMESPACE_URIS,{WellKnownScaleSet:makeObjectPropertySetter(readString),TileMatrix:makeObjectPropertyPusher(readTileMatrix)},makeStructureNS(OWS_NAMESPACE_URIS,{SupportedCRS:makeObjectPropertySetter(readString),Identifier:makeObjectPropertySetter(readString),BoundingBox:makeObjectPropertySetter(readBoundingBox)})),TM_PARSERS=makeStructureNS(NAMESPACE_URIS,{TopLeftCorner:makeObjectPropertySetter(readCoordinates),ScaleDenominator:makeObjectPropertySetter(readDecimal),TileWidth:makeObjectPropertySetter(readPositiveInteger),TileHeight:makeObjectPropertySetter(readPositiveInteger),MatrixWidth:makeObjectPropertySetter(readPositiveInteger),MatrixHeight:makeObjectPropertySetter(readPositiveInteger)},makeStructureNS(OWS_NAMESPACE_URIS,{Identifier:makeObjectPropertySetter(readString)}));function readContents(e,r){return pushParseAndPop({},CONTENTS_PARSERS,e,r)}function readLayer(e,r){return pushParseAndPop({},LAYER_PARSERS,e,r)}function readTileMatrixSet(e,r){return pushParseAndPop({},TMS_PARSERS,e,r)}function readStyle(e,r){const t=pushParseAndPop({},STYLE_PARSERS,e,r);if(!t)return;const S="true"===e.getAttribute("isDefault");return t.isDefault=S,t}function readTileMatrixSetLink(e,r){return pushParseAndPop({},TMS_LINKS_PARSERS,e,r)}function readDimensions(e,r){return pushParseAndPop({},DIMENSION_PARSERS,e,r)}function readResourceUrl(e,r){const t=e.getAttribute("format"),S=e.getAttribute("template"),a=e.getAttribute("resourceType"),i={};return t&&(i.format=t),S&&(i.template=S),a&&(i.resourceType=a),i}function readBoundingBox(e,r){const t=pushParseAndPop([],WGS84_BBOX_READERS,e,r);if(2==t.length)return boundingExtent(t)}function readLegendUrl(e,r){const t={};return t.format=e.getAttribute("format"),t.href=readHref(e),t}function readCoordinates(e,r){const t=readString(e).split(/\s+/);if(!t||2!=t.length)return;const S=+t[0],a=+t[1];return isNaN(S)||isNaN(a)?void 0:[S,a]}function readTileMatrix(e,r){return pushParseAndPop({},TM_PARSERS,e,r)}function readTileMatrixLimitsList(e,r){return pushParseAndPop([],TMS_LIMITS_LIST_PARSERS,e,r)}function readTileMatrixLimits(e,r){return pushParseAndPop({},TMS_LIMITS_PARSERS,e,r)}export default WMTSCapabilities;
//# sourceMappingURL=/sm/994abd96ba4edc668d13384ae6e1d5c59622edd2519846475178e4e03853e518.map