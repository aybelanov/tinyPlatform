/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/geom/flat/closest.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{lerp,squaredDistance as squaredDx}from"../../math.js";function assignClosest(t,e,r,n,s,a,o){const l=t[e],i=t[e+1],u=t[r]-l,f=t[r+1]-i;let g;if(0===u&&0===f)g=e;else{const x=((s-l)*u+(a-i)*f)/(u*u+f*f);if(x>1)g=r;else{if(x>0){for(let s=0;s<n;++s)o[s]=lerp(t[e+s],t[r+s],x);return void(o.length=n)}g=e}}for(let e=0;e<n;++e)o[e]=t[g+e];o.length=n}export function maxSquaredDelta(t,e,r,n,s){let a=t[e],o=t[e+1];for(e+=n;e<r;e+=n){const r=t[e],n=t[e+1],l=squaredDx(a,o,r,n);l>s&&(s=l),a=r,o=n}return s}export function arrayMaxSquaredDelta(t,e,r,n,s){for(let a=0,o=r.length;a<o;++a){const o=r[a];s=maxSquaredDelta(t,e,o,n,s),e=o}return s}export function multiArrayMaxSquaredDelta(t,e,r,n,s){for(let a=0,o=r.length;a<o;++a){const o=r[a];s=arrayMaxSquaredDelta(t,e,o,n,s),e=o[o.length-1]}return s}export function assignClosestPoint(t,e,r,n,s,a,o,l,i,u,f){if(e==r)return u;let g,x;if(0===s){if(x=squaredDx(o,l,t[e],t[e+1]),x<u){for(g=0;g<n;++g)i[g]=t[e+g];return i.length=n,x}return u}f=f||[NaN,NaN];let c=e+n;for(;c<r;)if(assignClosest(t,c-n,c,n,o,l,f),x=squaredDx(o,l,f[0],f[1]),x<u){for(u=x,g=0;g<n;++g)i[g]=f[g];i.length=n,c+=n}else c+=n*Math.max((Math.sqrt(x)-Math.sqrt(u))/s|0,1);if(a&&(assignClosest(t,r-n,e,n,o,l,f),x=squaredDx(o,l,f[0],f[1]),x<u)){for(u=x,g=0;g<n;++g)i[g]=f[g];i.length=n}return u}export function assignClosestArrayPoint(t,e,r,n,s,a,o,l,i,u,f){f=f||[NaN,NaN];for(let g=0,x=r.length;g<x;++g){const x=r[g];u=assignClosestPoint(t,e,x,n,s,a,o,l,i,u,f),e=x}return u}export function assignClosestMultiArrayPoint(t,e,r,n,s,a,o,l,i,u,f){f=f||[NaN,NaN];for(let g=0,x=r.length;g<x;++g){const x=r[g];u=assignClosestArrayPoint(t,e,x,n,s,a,o,l,i,u,f),e=x[x.length-1]}return u}
//# sourceMappingURL=/sm/be06e04a55f44180ad4229e32d9e62e2ba55621b221e78b0e6512efeeacb5fc3.map