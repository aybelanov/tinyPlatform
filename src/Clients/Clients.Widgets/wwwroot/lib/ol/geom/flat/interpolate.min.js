/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/geom/flat/interpolate.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{binarySearch}from"../../array.js";import{lerp}from"../../math.js";export function interpolatePoint(t,r,e,n,i,l,o){let u,f;const s=(e-r)/n;if(1===s)u=r;else if(2===s)u=r,f=i;else if(0!==s){let l=t[r],o=t[r+1],s=0;const c=[0];for(let i=r+n;i<e;i+=n){const r=t[i],e=t[i+1];s+=Math.sqrt((r-l)*(r-l)+(e-o)*(e-o)),c.push(s),l=r,o=e}const a=i*s,p=binarySearch(c,a);p<0?(f=(a-c[-p-2])/(c[-p-1]-c[-p-2]),u=r+(-p-2)*n):u=r+p*n}o=o>1?o:2,l=l||new Array(o);for(let r=0;r<o;++r)l[r]=void 0===u?NaN:void 0===f?t[u+r]:lerp(t[u+r],t[u+n+r],f);return l}export function lineStringCoordinateAtM(t,r,e,n,i,l){if(e==r)return null;let o;if(i<t[r+n-1])return l?(o=t.slice(r,r+n),o[n-1]=i,o):null;if(t[e-1]<i)return l?(o=t.slice(e-n,e),o[n-1]=i,o):null;if(i==t[r+n-1])return t.slice(r,r+n);let u=r/n,f=e/n;for(;u<f;){const r=u+f>>1;i<t[(r+1)*n-1]?f=r:u=r+1}const s=t[u*n-1];if(i==s)return t.slice((u-1)*n,(u-1)*n+n);const c=(i-s)/(t[(u+1)*n-1]-s);o=[];for(let r=0;r<n-1;++r)o.push(lerp(t[(u-1)*n+r],t[u*n+r],c));return o.push(i),o}export function lineStringsCoordinateAtM(t,r,e,n,i,l,o){if(o)return lineStringCoordinateAtM(t,r,e[e.length-1],n,i,l);let u;if(i<t[n-1])return l?(u=t.slice(0,n),u[n-1]=i,u):null;if(t[t.length-1]<i)return l?(u=t.slice(t.length-n),u[n-1]=i,u):null;for(let l=0,o=e.length;l<o;++l){const o=e[l];if(r!=o){if(i<t[r+n-1])return null;if(i<=t[o-1])return lineStringCoordinateAtM(t,r,o,n,i,!1);r=o}}return null}
//# sourceMappingURL=/sm/81937147ea373e744ca951ff4edd6c2a8027897e80aa10bd06f124276f4f91f9.map