/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/geom/flat/textpath.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{lerp}from"../../math.js";import{rotate}from"./transform.js";export function drawTextOnPath(t,r,e,n,o,l,s,a,i,f,c,p){let h=t[r],u=t[r+1],m=0,M=0,b=0,g=0;function d(){m=h,M=u,h=t[r+=n],u=t[r+1],g+=b,b=Math.sqrt((h-m)*(h-m)+(u-M)*(u-M))}do{d()}while(r<e-n&&g+b<l);let j=0===b?0:(l-g)/b;const w=lerp(m,h,j),x=lerp(M,u,j),P=r-n,k=g,q=l+a*i(f,o,c);for(;r<e-n&&g+b<q;)d();j=0===b?0:(q-g)/b;const v=lerp(m,h,j),I=lerp(M,u,j);let O;if(p){const t=[w,x,v,I];rotate(t,0,4,2,p,t,t),O=t[0]>t[2]}else O=w>v;const T=Math.PI,y=[],z=P+n===r;let A;if(b=0,g=k,h=t[r=P],u=t[r+1],z){d(),A=Math.atan2(u-M,h-m),O&&(A+=A>0?-T:T);const t=(v+w)/2,r=(I+x)/2;return y[0]=[t,r,(q-l)/2,A,o],y}for(let t=0,p=(o=o.replace(/\n/g," ")).length;t<p;){d();let w=Math.atan2(u-M,h-m);if(O&&(w+=w>0?-T:T),void 0!==A){let t=w-A;if(t+=t>T?-2*T:t<-T?2*T:0,Math.abs(t)>s)return null}A=w;const x=t;let P=0;for(;t<p;++t){const s=a*i(f,o[O?p-t-1:t],c);if(r+n<e&&g+b<l+P+s/2)break;P+=s}if(t===x)continue;const k=O?o.substring(p-x,p-t):o.substring(x,t);j=0===b?0:(l+P/2-g)/b;const q=lerp(m,h,j),v=lerp(M,u,j);y.push([q,v,P/2,w,k]),l+=P}return y}
//# sourceMappingURL=/sm/a23ce746be500888ca40cdb14674fc638729e27dc078966c170f5d9e38c60955.map