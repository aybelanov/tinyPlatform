/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/geom/SimpleGeometry.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Geometry from"./Geometry.js";import{abstract}from"../util.js";import{createOrUpdateFromFlatCoordinates,getCenter}from"../extent.js";import{rotate,scale,transform2D,translate}from"./flat/transform.js";class SimpleGeometry extends Geometry{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return abstract()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=getStrideForLayout(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){abstract()}setLayout(t,e,i){let r;if(t)r=getStrideForLayout(t);else{for(let t=0;t<i;++t){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}r=e.length,t=getLayoutForStride(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const r=this.getStride();rotate(i,0,i.length,r,t,e,i),this.changed()}}scale(t,e,i){void 0===e&&(e=t),i||(i=getCenter(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();scale(r,0,r.length,s,t,e,i,r),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const r=this.getStride();translate(i,0,i.length,r,t,e,i),this.changed()}}}function getLayoutForStride(t){let e;return 2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM"),e}export function getStrideForLayout(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}export function transformGeom2D(t,e,i){const r=t.getFlatCoordinates();if(!r)return null;const s=t.getStride();return transform2D(r,0,r.length,s,e,i)}export default SimpleGeometry;
//# sourceMappingURL=/sm/256f4579ce96b7127ab20cc3b886e9ea1bf4305a9f2be3719ff5703259aad27d.map