/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/source/ImageCanvas.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import ImageCanvas from"../ImageCanvas.js";import ImageSource from"./Image.js";import{containsExtent,getHeight,getWidth,scaleFromCenter}from"../extent.js";class ImageCanvasSource extends ImageSource{constructor(t){super({attributions:(t=t||{}).attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.canvasFunction_=t.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5}getImageInternal(t,e,i,n){e=this.findNearestResolution(e);let s=this.canvas_;if(s&&this.renderedRevision_==this.getRevision()&&s.getResolution()==e&&s.getPixelRatio()==i&&containsExtent(s.getExtent(),t))return s;t=t.slice(),scaleFromCenter(t,this.ratio_);const a=[getWidth(t)/e*i,getHeight(t)/e*i],o=this.canvasFunction_.call(this,t,e,i,a,n);return o&&(s=new ImageCanvas(t,e,i,o)),this.canvas_=s,this.renderedRevision_=this.getRevision(),s}}export default ImageCanvasSource;
//# sourceMappingURL=/sm/622db7ff32fea9f71890874ffa1c7cbd543a2e488f6ad15ebc4145923635875a.map