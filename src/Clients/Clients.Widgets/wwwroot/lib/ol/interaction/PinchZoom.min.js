/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/interaction/PinchZoom.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import PointerInteraction,{centroid as centroidFromPointers}from"./Pointer.js";import{FALSE}from"../functions.js";class PinchZoom extends PointerInteraction{constructor(t){const n=t=t||{};n.stopDown||(n.stopDown=FALSE),super(n),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const e=this.targetPointers[0],i=this.targetPointers[1],s=e.clientX-i.clientX,o=e.clientY-i.clientY,r=Math.sqrt(s*s+o*o);void 0!==this.lastDistance_&&(n=this.lastDistance_/r),this.lastDistance_=r;const a=t.map,l=a.getView();1!=n&&(this.lastScaleDelta_=n),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(centroidFromPointers(this.targetPointers))),a.render(),l.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const n=t.map.getView(),e=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,e),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}export default PinchZoom;
//# sourceMappingURL=/sm/e6bc0fb37e5f31b4d441f00c009da3514b75a183c2da90ac6ff7c1f9450ba223.map