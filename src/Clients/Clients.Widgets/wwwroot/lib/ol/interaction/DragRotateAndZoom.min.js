/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/interaction/DragRotateAndZoom.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import PointerInteraction from"./Pointer.js";import{mouseOnly,shiftKeyOnly}from"../events/condition.js";class DragRotateAndZoom extends PointerInteraction{constructor(t){super(t=t||{}),this.condition_=t.condition?t.condition:shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==t.duration?t.duration:400}handleDragEvent(t){if(!mouseOnly(t))return;const i=t.map,n=i.getSize(),e=t.pixel,a=e[0]-n[0]/2,s=n[1]/2-e[1],o=Math.atan2(s,a),l=Math.sqrt(a*a+s*s),d=i.getView();if(void 0!==this.lastAngle_){const t=this.lastAngle_-o;d.adjustRotationInternal(t)}this.lastAngle_=o,void 0!==this.lastMagnitude_&&d.adjustResolutionInternal(this.lastMagnitude_/l),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/l),this.lastMagnitude_=l}handleUpEvent(t){if(!mouseOnly(t))return!0;const i=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,n),this.lastScaleDelta_=0,!1}handleDownEvent(t){return!!mouseOnly(t)&&(!!this.condition_(t)&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))}}export default DragRotateAndZoom;
//# sourceMappingURL=/sm/7c4ab103164af0fb919a1c66b7030ea9b2662212d927c68bf88e3cbedb0ab1fc.map