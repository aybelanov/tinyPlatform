/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/render/webgl/renderinstructions.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{apply as applyTransform}from"../../transform.js";import{transform2D}from"../../geom/flat/transform.js";function pushCustomAttributesInRenderInstructions(t,e,n,r){let s=0;for(const o in e){const i=e[o],u=i.callback(n.feature);t[r+s++]=u[0]||u,i.size&&1!==i.size&&(t[r+s++]=u[1],i.size<3||(t[r+s++]=u[2],i.size<4||(t[r+s++]=u[3])))}return s}export function getCustomAttributesSize(t){return Object.keys(t).reduce(((e,n)=>e+(t[n].size||1)),0)}export function generatePointRenderInstructions(t,e,n,r){const s=(2+getCustomAttributesSize(n))*t.geometriesCount;e&&e.length===s||(e=new Float32Array(s));const o=[];let i=0;for(const s in t.entries){const u=t.entries[s];for(let t=0,s=u.flatCoordss.length;t<s;t++)o[0]=u.flatCoordss[t][0],o[1]=u.flatCoordss[t][1],applyTransform(r,o),e[i++]=o[0],e[i++]=o[1],i+=pushCustomAttributesInRenderInstructions(e,n,u,i)}return e}export function generateLineStringRenderInstructions(t,e,n,r){const s=2*t.verticesCount+(1+getCustomAttributesSize(n))*t.geometriesCount;e&&e.length===s||(e=new Float32Array(s));const o=[];let i=0;for(const s in t.entries){const u=t.entries[s];for(let t=0,s=u.flatCoordss.length;t<s;t++){o.length=u.flatCoordss[t].length,transform2D(u.flatCoordss[t],0,o.length,2,r,o),i+=pushCustomAttributesInRenderInstructions(e,n,u,i),e[i++]=o.length/2;for(let t=0,n=o.length;t<n;t+=2)e[i++]=o[t],e[i++]=o[t+1]}}return e}export function generatePolygonRenderInstructions(t,e,n,r){const s=2*t.verticesCount+(1+getCustomAttributesSize(n))*t.geometriesCount+t.ringsCount;e&&e.length===s||(e=new Float32Array(s));const o=[];let i=0;for(const s in t.entries){const u=t.entries[s];for(let t=0,s=u.flatCoordss.length;t<s;t++){o.length=u.flatCoordss[t].length,transform2D(u.flatCoordss[t],0,o.length,2,r,o),i+=pushCustomAttributesInRenderInstructions(e,n,u,i),e[i++]=u.ringsVerticesCounts[t].length;for(let n=0,r=u.ringsVerticesCounts[t].length;n<r;n++)e[i++]=u.ringsVerticesCounts[t][n];for(let t=0,n=o.length;t<n;t+=2)e[i++]=o[t],e[i++]=o[t+1]}}return e}
//# sourceMappingURL=/sm/7971bc753bcd8a759bb036435e75338764824cb6acb0abbd7560b54051550d7e.map