/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/render/canvas/LineStringBuilder.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import CanvasBuilder from"./Builder.js";import CanvasInstruction,{beginPathInstruction,strokeInstruction}from"./Instruction.js";import{defaultLineDash,defaultLineDashOffset}from"../canvas.js";class CanvasLineStringBuilder extends CanvasBuilder{constructor(t,i,s,e){super(t,i,s,e)}drawFlatCoordinates_(t,i,s,e){const n=this.coordinates.length,r=this.appendFlatLineCoordinates(t,i,s,e,!1,!1),o=[CanvasInstruction.MOVE_TO_LINE_TO,n,r];return this.instructions.push(o),this.hitDetectionInstructions.push(o),s}drawLineString(t,i){const s=this.state,e=s.strokeStyle,n=s.lineWidth;if(void 0===e||void 0===n)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(t,i),this.hitDetectionInstructions.push([CanvasInstruction.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,defaultLineDash,defaultLineDashOffset],beginPathInstruction);const r=t.getFlatCoordinates(),o=t.getStride();this.drawFlatCoordinates_(r,0,r.length,o),this.hitDetectionInstructions.push(strokeInstruction),this.endGeometry(i)}drawMultiLineString(t,i){const s=this.state,e=s.strokeStyle,n=s.lineWidth;if(void 0===e||void 0===n)return;this.updateStrokeStyle(s,this.applyStroke),this.beginGeometry(t,i),this.hitDetectionInstructions.push([CanvasInstruction.SET_STROKE_STYLE,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,defaultLineDash,defaultLineDashOffset],beginPathInstruction);const r=t.getEnds(),o=t.getFlatCoordinates(),a=t.getStride();let h=0;for(let t=0,i=r.length;t<i;++t)h=this.drawFlatCoordinates_(o,h,r[t],a);this.hitDetectionInstructions.push(strokeInstruction),this.endGeometry(i)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(strokeInstruction),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(beginPathInstruction)}}export default CanvasLineStringBuilder;
//# sourceMappingURL=/sm/429beef367a1c6d0fc98ea327e564fe34da399c0fb43fd56a93323c8e23c7bec.map