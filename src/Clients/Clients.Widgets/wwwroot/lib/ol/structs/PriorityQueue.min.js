/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/structs/PriorityQueue.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{assert}from"../asserts.js";import{clear}from"../obj.js";export const DROP=1/0;class PriorityQueue{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,clear(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(e){assert(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=DROP&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(e){return 2*e+1}getRightChildIndex_(e){return 2*e+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return 0===this.elements_.length}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,s=t.length,n=t[e],h=i[e],r=e;for(;e<s>>1;){const n=this.getLeftChildIndex_(e),h=this.getRightChildIndex_(e),r=h<s&&i[h]<i[n]?h:n;t[e]=t[r],i[e]=i[r],e=r}t[e]=n,i[e]=h,this.siftDown_(r,e)}siftDown_(e,t){const i=this.elements_,s=this.priorities_,n=i[t],h=s[t];for(;t>e;){const e=this.getParentIndex_(t);if(!(s[e]>h))break;i[t]=i[e],s[t]=s[e],t=e}i[t]=n,s[t]=h}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let s=0;const n=t.length;let h,r,u;for(r=0;r<n;++r)h=t[r],u=e(h),u==DROP?delete this.queuedElements_[this.keyFunction_(h)]:(i[s]=u,t[s++]=h);t.length=s,i.length=s,this.heapify_()}}export default PriorityQueue;
//# sourceMappingURL=/sm/f5f0d440b3cce83b9b95ea369a0748d0461722f780ed314576ae6fc6b135fbb8.map