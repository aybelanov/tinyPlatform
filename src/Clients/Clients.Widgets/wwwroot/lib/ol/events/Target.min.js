/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/events/Target.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Disposable from"../Disposable.js";import Event from"./Event.js";import{VOID}from"../functions.js";import{clear}from"../obj.js";class Target extends Disposable{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const s=this.listeners_||(this.listeners_={}),i=s[e]||(s[e]=[]);i.includes(t)||i.push(t)}dispatchEvent(e){const t="string"==typeof e,s=t?e:e.type,i=this.listeners_&&this.listeners_[s];if(!i)return;const n=t?new Event(e):e;n.target||(n.target=this.eventTarget_||this);const r=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});let h;s in r||(r[s]=0,l[s]=0),++r[s];for(let e=0,t=i.length;e<t;++e)if(h="handleEvent"in i[e]?i[e].handleEvent(n):i[e].call(this,n),!1===h||n.propagationStopped){h=!1;break}if(0==--r[s]){let e=l[s];for(delete l[s];e--;)this.removeEventListener(s,VOID);delete r[s]}return h}disposeInternal(){this.listeners_&&clear(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(e,t){const s=this.listeners_&&this.listeners_[e];if(s){const i=s.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(s[i]=VOID,++this.pendingRemovals_[e]):(s.splice(i,1),0===s.length&&delete this.listeners_[e]))}}}export default Target;
//# sourceMappingURL=/sm/0b76f7c5a24e76101e4afcb6375d3ac5ca9b2cbb75322122e34dd37846f3c7db.map