/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/webgl/BaseTileRepresentation.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import EventTarget from"../events/Target.js";import EventType from"../events/EventType.js";import ImageTile from"../ImageTile.js";import TileState from"../TileState.js";import{abstract}from"../util.js";class BaseTileRepresentation extends EventTarget{constructor(e){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter_=e.gutter||0,this.helper_=e.helper,this.loaded=!1,this.ready=!1}setTile(e){if(e!==this.tile)if(this.tile&&this.tile.removeEventListener(EventType.CHANGE,this.handleTileChange_),this.tile=e,this.loaded=e.getState()===TileState.LOADED,this.loaded)this.uploadTile();else{if(e instanceof ImageTile){const t=e.getImage();t instanceof Image&&!t.crossOrigin&&(t.crossOrigin="anonymous")}e.addEventListener(EventType.CHANGE,this.handleTileChange_)}}uploadTile(){abstract()}setReady(){this.ready=!0,this.dispatchEvent(EventType.CHANGE)}handleTileChange_(){this.tile.getState()===TileState.LOADED&&(this.loaded=!0,this.uploadTile())}disposeInternal(){this.tile.removeEventListener(EventType.CHANGE,this.handleTileChange_)}}export default BaseTileRepresentation;
//# sourceMappingURL=/sm/ddcbac4e81fde9d6e5366e81639456061fab95b6104623c745388b5bce9d1fc2.map