/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/webgl/TileGeometry.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import BaseTileRepresentation from"./BaseTileRepresentation.js";import MixedGeometryBatch from"../render/webgl/MixedGeometryBatch.js";import{create as createTransform,translate as translateTransform}from"../transform.js";class TileGeometry extends BaseTileRepresentation{constructor(e,t){super(e),this.batch_=new MixedGeometryBatch,this.styleRenderers_=t,this.buffers=[],this.setTile(e.tile)}uploadTile(){this.batch_.clear();const e=this.tile.getSourceTiles(),t=e.reduce(((e,t)=>e.concat(t.getFeatures())),[]);this.batch_.addFeatures(t);const r=e[0].extent[0],s=e[0].extent[1],a=translateTransform(createTransform(),-r,-s),i=this.styleRenderers_.map(((e,t)=>e.generateBuffers(this.batch_,a).then((e=>{this.buffers[t]=e}))));Promise.all(i).then((()=>{this.setReady()}))}}export default TileGeometry;
//# sourceMappingURL=/sm/81fdba6dd2bbea6172041658507955f585b170676bcdfa5eca96af6952657750.map