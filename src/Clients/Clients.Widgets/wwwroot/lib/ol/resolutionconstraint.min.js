/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ol@8.1.0/resolutionconstraint.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{clamp}from"./math.js";import{getHeight,getWidth}from"./extent.js";import{linearFindNearest}from"./array.js";function getViewportClampedResolution(t,o,e,n){const a=getWidth(o)/e[0],i=getHeight(o)/e[1];return n?Math.min(t,Math.max(a,i)):Math.min(t,Math.min(a,i))}function getSmoothClampedResolution(t,o,e){let n=Math.min(t,o);return n*=Math.log(1+50*Math.max(0,t/o-1))/50+1,e&&(n=Math.max(n,e),n/=Math.log(1+50*Math.max(0,e/t-1))/50+1),clamp(n,e/2,2*o)}export function createSnapToResolutions(t,o,e,n){return o=void 0===o||o,function(a,i,r,l){if(void 0!==a){const m=t[0],h=t[t.length-1],u=e?getViewportClampedResolution(m,e,r,n):m;if(l)return o?getSmoothClampedResolution(a,u,h):clamp(a,h,u);const p=Math.min(u,a),c=Math.floor(linearFindNearest(t,p,i));return t[c]>u&&c<t.length-1?t[c+1]:t[c]}}}export function createSnapToPower(t,o,e,n,a,i){return n=void 0===n||n,e=void 0!==e?e:0,function(r,l,m,h){if(void 0!==r){const u=a?getViewportClampedResolution(o,a,m,i):o;if(h)return n?getSmoothClampedResolution(r,u,e):clamp(r,e,u);const p=1e-9,c=Math.ceil(Math.log(o/u)/Math.log(t)-p),M=-l*(.5-p)+.5,g=Math.min(u,r),s=Math.floor(Math.log(o/g)/Math.log(t)+M),d=Math.max(c,s),f=o/Math.pow(t,d);return clamp(f,e,u)}}}export function createMinMaxResolution(t,o,e,n,a){return e=void 0===e||e,function(i,r,l,m){if(void 0!==i){const r=n?getViewportClampedResolution(t,n,l,a):t;return e&&m?getSmoothClampedResolution(i,r,o):clamp(i,o,r)}}}
//# sourceMappingURL=/sm/17706afc0417d1781bb685a407685063775a12baabb77635659ed6a6140f5253.map