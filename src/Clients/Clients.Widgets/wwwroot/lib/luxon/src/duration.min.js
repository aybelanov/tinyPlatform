/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/luxon@3.4.3/src/duration.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{InvalidArgumentError,InvalidDurationError,InvalidUnitError}from"./errors.js";import Formatter from"./impl/formatter.js";import Invalid from"./impl/invalid.js";import Locale from"./impl/locale.js";import{parseISODuration,parseISOTimeOnly}from"./impl/regexParser.js";import{asNumber,hasOwnProperty,isNumber,isUndefined,normalizeObject,roundTo}from"./impl/util.js";import Settings from"./settings.js";import DateTime from"./datetime.js";const INVALID="Invalid Duration";export const lowOrderMatrix={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},casualMatrix={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...lowOrderMatrix},daysInYearAccurate=365.2425,daysInMonthAccurate=30.436875,accurateMatrix={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...lowOrderMatrix};const orderedUnits=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits.slice(0).reverse();function clone(s,t,i=!1){const e={values:i?t.values:{...s.values,...t.values||{}},loc:s.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||s.conversionAccuracy,matrix:t.matrix||s.matrix};return new Duration(e)}function durationToMillis(s,t){let i=t.milliseconds??0;for(const e of reverseUnits.slice(1))t[e]&&(i+=t[e]*s[e].milliseconds);return i}function normalizeValues(s,t){const i=durationToMillis(s,t)<0?-1:1;orderedUnits.reduceRight(((e,r)=>{if(isUndefined(t[r]))return e;if(e){const n=t[e]*i,o=s[r][e],a=Math.floor(n/o);t[r]+=a*i,t[e]-=a*o*i}return r}),null),orderedUnits.reduce(((i,e)=>{if(isUndefined(t[e]))return i;if(i){const r=t[i]%1;t[i]-=r,t[e]+=r*s[i][e]}return e}),null)}function removeZeroes(s){const t={};for(const[i,e]of Object.entries(s))0!==e&&(t[i]=e);return t}export default class Duration{constructor(s){const t="longterm"===s.conversionAccuracy||!1;let i=t?accurateMatrix:casualMatrix;s.matrix&&(i=s.matrix),this.values=s.values,this.loc=s.loc||Locale.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=s.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(s,t){return Duration.fromObject({milliseconds:s},t)}static fromObject(s,t={}){if(null==s||"object"!=typeof s)throw new InvalidArgumentError("Duration.fromObject: argument expected to be an object, got "+(null===s?"null":typeof s));return new Duration({values:normalizeObject(s,Duration.normalizeUnit),loc:Locale.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(s){if(isNumber(s))return Duration.fromMillis(s);if(Duration.isDuration(s))return s;if("object"==typeof s)return Duration.fromObject(s);throw new InvalidArgumentError(`Unknown duration argument ${s} of type ${typeof s}`)}static fromISO(s,t){const[i]=parseISODuration(s);return i?Duration.fromObject(i,t):Duration.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static fromISOTime(s,t){const[i]=parseISOTimeOnly(s);return i?Duration.fromObject(i,t):Duration.invalid("unparsable",`the input "${s}" can't be parsed as ISO 8601`)}static invalid(s,t=null){if(!s)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const i=s instanceof Invalid?s:new Invalid(s,t);if(Settings.throwOnInvalid)throw new InvalidDurationError(i);return new Duration({invalid:i})}static normalizeUnit(s){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[s?s.toLowerCase():s];if(!t)throw new InvalidUnitError(s);return t}static isDuration(s){return s&&s.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(s,t={}){const i={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?Formatter.create(this.loc,i).formatDurationFromString(this,s):INVALID}toHuman(s={}){if(!this.isValid)return INVALID;const t=orderedUnits.map((t=>{const i=this.values[t];return isUndefined(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...s,unit:t.slice(0,-1)}).format(i)})).filter((s=>s));return this.loc.listFormatter({type:"conjunction",style:s.listStyle||"narrow",...s}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let s="P";return 0!==this.years&&(s+=this.years+"Y"),0===this.months&&0===this.quarters||(s+=this.months+3*this.quarters+"M"),0!==this.weeks&&(s+=this.weeks+"W"),0!==this.days&&(s+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(s+="T"),0!==this.hours&&(s+=this.hours+"H"),0!==this.minutes&&(s+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(s+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===s&&(s+="T0S"),s}toISOTime(s={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;s={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...s,includeOffset:!1};return DateTime.fromMillis(t,{zone:"UTC"}).toISOTime(s)}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?durationToMillis(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(s){if(!this.isValid)return this;const t=Duration.fromDurationLike(s),i={};for(const s of orderedUnits)(hasOwnProperty(t.values,s)||hasOwnProperty(this.values,s))&&(i[s]=t.get(s)+this.get(s));return clone(this,{values:i},!0)}minus(s){if(!this.isValid)return this;const t=Duration.fromDurationLike(s);return this.plus(t.negate())}mapUnits(s){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=asNumber(s(this.values[i],i));return clone(this,{values:t},!0)}get(s){return this[Duration.normalizeUnit(s)]}set(s){if(!this.isValid)return this;return clone(this,{values:{...this.values,...normalizeObject(s,Duration.normalizeUnit)}})}reconfigure({locale:s,numberingSystem:t,conversionAccuracy:i,matrix:e}={}){return clone(this,{loc:this.loc.clone({locale:s,numberingSystem:t}),matrix:e,conversionAccuracy:i})}as(s){return this.isValid?this.shiftTo(s).get(s):NaN}normalize(){if(!this.isValid)return this;const s=this.toObject();return normalizeValues(this.matrix,s),clone(this,{values:s},!0)}rescale(){if(!this.isValid)return this;return clone(this,{values:removeZeroes(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...s){if(!this.isValid)return this;if(0===s.length)return this;s=s.map((s=>Duration.normalizeUnit(s)));const t={},i={},e=this.toObject();let r;for(const n of orderedUnits)if(s.indexOf(n)>=0){r=n;let s=0;for(const t in i)s+=this.matrix[t][n]*i[t],i[t]=0;isNumber(e[n])&&(s+=e[n]);const o=Math.trunc(s);t[n]=o,i[n]=(1e3*s-1e3*o)/1e3}else isNumber(e[n])&&(i[n]=e[n]);for(const s in i)0!==i[s]&&(t[r]+=s===r?i[s]:i[s]/this.matrix[r][s]);return normalizeValues(this.matrix,t),clone(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const s={};for(const t of Object.keys(this.values))s[t]=0===this.values[t]?0:-this.values[t];return clone(this,{values:s},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(s){if(!this.isValid||!s.isValid)return!1;if(!this.loc.equals(s.loc))return!1;for(const e of orderedUnits)if(t=this.values[e],i=s.values[e],!(void 0===t||0===t?void 0===i||0===i:t===i))return!1;var t,i;return!0}}
//# sourceMappingURL=/sm/2d1c7583c89f7348e1383df598ba60ca9e1f4322afcb1bcca99df0f1c1e84b20.map