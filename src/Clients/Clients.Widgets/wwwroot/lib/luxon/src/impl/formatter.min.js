/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/luxon@3.4.3/src/impl/formatter.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import*as English from"./english.js";import*as Formats from"./formats.js";import{padStart}from"./util.js";function stringifyTokens(t,r){let e="";for(const s of t)s.literal?e+=s.val:e+=r(s.val);return e}const macroTokenToFormatOpts={D:Formats.DATE_SHORT,DD:Formats.DATE_MED,DDD:Formats.DATE_FULL,DDDD:Formats.DATE_HUGE,t:Formats.TIME_SIMPLE,tt:Formats.TIME_WITH_SECONDS,ttt:Formats.TIME_WITH_SHORT_OFFSET,tttt:Formats.TIME_WITH_LONG_OFFSET,T:Formats.TIME_24_SIMPLE,TT:Formats.TIME_24_WITH_SECONDS,TTT:Formats.TIME_24_WITH_SHORT_OFFSET,TTTT:Formats.TIME_24_WITH_LONG_OFFSET,f:Formats.DATETIME_SHORT,ff:Formats.DATETIME_MED,fff:Formats.DATETIME_FULL,ffff:Formats.DATETIME_HUGE,F:Formats.DATETIME_SHORT_WITH_SECONDS,FF:Formats.DATETIME_MED_WITH_SECONDS,FFF:Formats.DATETIME_FULL_WITH_SECONDS,FFFF:Formats.DATETIME_HUGE_WITH_SECONDS};export default class Formatter{static create(t,r={}){return new Formatter(t,r)}static parseFormat(t){let r=null,e="",s=!1;const a=[];for(let o=0;o<t.length;o++){const n=t.charAt(o);"'"===n?(e.length>0&&a.push({literal:s||/^\s+$/.test(e),val:e}),r=null,e="",s=!s):s||n===r?e+=n:(e.length>0&&a.push({literal:/^\s+$/.test(e),val:e}),e=n,r=n)}return e.length>0&&a.push({literal:s||/^\s+$/.test(e),val:e}),a}static macroTokenToFormatOpts(t){return macroTokenToFormatOpts[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0){if(this.opts.forceSimple)return padStart(t,r);const e={...this.opts};return r>0&&(e.padTo=r),this.loc.numberFormatter(e).format(t)}formatDateTimeFromString(t,r){const e="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,a=(r,e)=>this.loc.extract(t,r,e),o=r=>t.isOffsetFixed&&0===t.offset&&r.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,r.format):"",n=(r,s)=>e?English.monthForDateTime(t,r):a(s?{month:r}:{month:r,day:"numeric"},"month"),m=(r,s)=>e?English.weekdayForDateTime(t,r):a(s?{weekday:r}:{weekday:r,month:"long",day:"numeric"},"weekday"),u=r=>{const e=Formatter.macroTokenToFormatOpts(r);return e?this.formatWithSystemDefault(t,e):r},i=r=>e?English.eraForDateTime(t,r):a({era:r},"era");return stringifyTokens(Formatter.parseFormat(r),(r=>{switch(r){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return e?English.meridiemForDateTime(t):a({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return s?a({day:"numeric"},"day"):this.num(t.day);case"dd":return s?a({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return s?a({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?a({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return n("short",!0);case"LLLL":return n("long",!0);case"LLLLL":return n("narrow",!0);case"M":return s?a({month:"numeric"},"month"):this.num(t.month);case"MM":return s?a({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return n("short",!1);case"MMMM":return n("long",!1);case"MMMMM":return n("narrow",!1);case"y":return s?a({year:"numeric"},"year"):this.num(t.year);case"yy":return s?a({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?a({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?a({year:"numeric"},"year"):this.num(t.year,6);case"G":return i("short");case"GG":return i("long");case"GGGGG":return i("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return u(r)}}))}formatDurationFromString(t,r){const e=t=>{switch(t[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=Formatter.parseFormat(r),a=s.reduce(((t,{literal:r,val:e})=>r?t:t.concat(e)),[]);return stringifyTokens(s,(t=>r=>{const s=e(r);return s?this.num(t.get(s),r.length):r})(t.shiftTo(...a.map(e).filter((t=>t)))))}}
//# sourceMappingURL=/sm/5cc14b6292efdb046aba696202ad5a592be42d1451750e8bf6fa5f8403a18583.map